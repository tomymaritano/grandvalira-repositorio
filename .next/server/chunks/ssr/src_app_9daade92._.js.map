{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/tomasmaritano/Documents/portfolio/grandvalira-directorio/app/src/app/hooks/useAuth.js"],"sourcesContent":["import { useState } from 'react';\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(() => localStorage.getItem('token') || '');\n\n  const login = async (email, password) => {\n    const response = await fetch('http://localhost:3000/auth/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    const data = await response.json();\n\n    if (response.ok) {\n      localStorage.setItem('token', data.token);\n      setToken(data.token);\n      return true;\n    } else {\n      console.error('Login failed:', data.error);\n      return false;\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    setToken('');\n  };\n\n  return {\n    token,\n    login,\n    logout,\n  };\n};"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,UAAU;IACrB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAM,aAAa,OAAO,CAAC,YAAY;IAE1E,MAAM,QAAQ,OAAO,OAAO;QAC1B,MAAM,WAAW,MAAM,MAAM,oCAAoC;YAC/D,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;YAAS;QACzC;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,SAAS,EAAE,EAAE;YACf,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,SAAS,KAAK,KAAK;YACnB,OAAO;QACT,OAAO;YACL,QAAQ,KAAK,CAAC,iBAAiB,KAAK,KAAK;YACzC,OAAO;QACT;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,SAAS;IACX;IAEA,OAAO;QACL;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Users/tomasmaritano/Documents/portfolio/grandvalira-directorio/app/src/app/contacts/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useApi } from '../../src/hooks/useApi';\nimport { useAuth } from '@/app/hooks/useAuth';\n\nexport default function ContactsDashboard() {\n  const { get, post } = useApi();\n  const { role } = useAuth();\n  const [contacts, setContacts] = useState([]);\n\n  useEffect(() => {\n    const fetchContacts = async () => {\n      const { data, ok } = await get('http://localhost:3000/contacts');\n\n      if (ok) {\n        setContacts(data);\n      } else {\n        console.error('Failed to fetch contacts');\n      }\n    };\n\n    fetchContacts();\n  }, []);\n\n  const handleBanContact = async (contactId) => {\n    const { ok } = await post(`http://localhost:3000/contacts/${contactId}/ban`, {});\n\n    if (ok) {\n      alert('Contact banned');\n      // Refetch contacts\n      const { data } = await get('http://localhost:3000/contacts');\n      setContacts(data);\n    } else {\n      alert('Failed to ban contact');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Contacts Dashboard</h1>\n\n      {(role === 'MODERATOR' || role === 'ADMIN') && (\n        <button onClick={() => alert('Add contact - TODO')}>Add Contact</button>\n      )}\n\n      <ul>\n        {contacts.map((contact) => (\n          <li key={contact.id}>\n            {contact.name} - {contact.email} - Status: {contact.status}\n\n            {(role === 'MODERATOR' || role === 'ADMIN') && (\n              <>\n                <button onClick={() => alert('Edit contact - TODO')}>Edit</button>\n                <button onClick={() => alert('Delete contact - TODO')}>Delete</button>\n                {contact.status !== 'BANNED' && (\n                  <button onClick={() => handleBanContact(contact.id)}>Ban</button>\n                )}\n              </>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;;;;;;AAEA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,MAAM,IAAI;YAE/B,IAAI,IAAI;gBACN,YAAY;YACd,OAAO;gBACL,QAAQ,KAAK,CAAC;YAChB;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,mBAAmB,OAAO;QAC9B,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,KAAK,CAAC,+BAA+B,EAAE,UAAU,IAAI,CAAC,EAAE,CAAC;QAE9E,IAAI,IAAI;YACN,MAAM;YACN,mBAAmB;YACnB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI;YAC3B,YAAY;QACd,OAAO;YACL,MAAM;QACR;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;YAEH,CAAC,SAAS,eAAe,SAAS,OAAO,mBACxC,8OAAC;gBAAO,SAAS,IAAM,MAAM;0BAAuB;;;;;;0BAGtD,8OAAC;0BACE,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;;4BACE,QAAQ,IAAI;4BAAC;4BAAI,QAAQ,KAAK;4BAAC;4BAAY,QAAQ,MAAM;4BAEzD,CAAC,SAAS,eAAe,SAAS,OAAO,mBACxC;;kDACE,8OAAC;wCAAO,SAAS,IAAM,MAAM;kDAAwB;;;;;;kDACrD,8OAAC;wCAAO,SAAS,IAAM,MAAM;kDAA0B;;;;;;oCACtD,QAAQ,MAAM,KAAK,0BAClB,8OAAC;wCAAO,SAAS,IAAM,iBAAiB,QAAQ,EAAE;kDAAG;;;;;;;;;uBARpD,QAAQ,EAAE;;;;;;;;;;;;;;;;AAiB7B","debugId":null}}]
}